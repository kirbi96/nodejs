[{"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\index.js":"1","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Auth\\Reg.js":"2","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Community\\Community.js":"3","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\components\\Menu\\Menu.js":"4","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Auth\\Auth.js":"5","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Home\\Home.js":"6","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\utils\\auth.hook.js":"7","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\routes.js":"8","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Admin\\Admin.js":"9","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\utils\\api.hook.js":"10","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\assets\\icons\\DeleteSvgIcon.js":"11","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\assets\\icons\\EditSvgIcon.js":"12","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\News\\News.js":"13","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\PostsLine\\PostsLine.js":"14","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Profile\\Profile.js":"15"},{"size":547,"mtime":1609103087125,"results":"16","hashOfConfig":"17"},{"size":1484,"mtime":1609772194282,"results":"18","hashOfConfig":"17"},{"size":6538,"mtime":1609949649582,"results":"19","hashOfConfig":"17"},{"size":1153,"mtime":1609950103884,"results":"20","hashOfConfig":"17"},{"size":1708,"mtime":1609776350170,"results":"21","hashOfConfig":"17"},{"size":12966,"mtime":1609934781793,"results":"22","hashOfConfig":"17"},{"size":1028,"mtime":1609949017517,"results":"23","hashOfConfig":"17"},{"size":1919,"mtime":1609865947981,"results":"24","hashOfConfig":"17"},{"size":2230,"mtime":1609856298398,"results":"25","hashOfConfig":"17"},{"size":156,"mtime":1609791909042,"results":"26","hashOfConfig":"17"},{"size":969,"mtime":1609862511754,"results":"27","hashOfConfig":"17"},{"size":695,"mtime":1609862511815,"results":"28","hashOfConfig":"17"},{"size":3572,"mtime":1609933278912,"results":"29","hashOfConfig":"17"},{"size":13257,"mtime":1609950080768,"results":"30","hashOfConfig":"17"},{"size":2302,"mtime":1609952586482,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"q93n2h",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"34"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\index.js",[],["65","66"],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Auth\\Reg.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Community\\Community.js",["67"],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\components\\Menu\\Menu.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Auth\\Auth.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Home\\Home.js",["68","69"],"import {AuthContext} from \"../../../context/AuthContext\";\nimport {useContext, useEffect, useState} from \"react\";\nimport {Api} from \"../../../utils/api.hook\";\nimport Select from \"react-select\";\nimport DeleteSvgIcon from \"../../../assets/icons/DeleteSvgIcon\";\nimport EditSvgIcon from \"../../../assets/icons/EditSvgIcon\";\nimport {useAuth} from \"../../../utils/auth.hook\";\n\nconst Home = () =>{\n    const auth = useContext(AuthContext)\n    const {userId} = useAuth()\n    const [isUpdate, setIsUpdate] = useState(false)\n    const [newPost, setNewPost] = useState(false)\n    const [showComments, setShowComments] = useState(false)\n    const [showWriteComments, setShowWriteComments] = useState(false)\n    const [updateId, setUpdateId] = useState(null)\n    const [tags, setTags] = useState([])\n    const [posts, setPosts] = useState([])\n    const [form, setForm] = useState({\n        message: \"\",\n        name: \"\",\n        tag: \"\",\n        avatar: \"https://326605.selcdn.ru/03005/iblock/340/logotip-KAI.jpg\",\n        author: auth?.userId?.email,\n        // comments: {\n        //     author: auth?.userId?.email,\n        //     avatar: \"https://townsquare.media/site/442/files/2020/01/avatar-10-year.jpg?w=980&q=75\",\n        //     text: \"\"\n        // }\n    })\n\n    const getPosts = () =>{\n        Api.get(\"api/post/\").then((res) => {\n            setPosts(res.data)\n        })\n    }\n\n    const getTags = () =>{\n        Api.get(\"api/tag/\").then((res) => {\n            setTags(res.data)\n        })\n    }\n\n    const registerHandler = async () =>{\n        try {\n            await Api.post(\"api/post/create\", {...form}).then((res) => {\n                getPosts()\n                setForm({...form, message: \"\", name: \"\"})\n                setNewPost( s => !s)\n            })\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n\n    //перепилить\n    const handleInputChange = (selectedOption) => {\n        setForm({...form, tag: selectedOption.tag})\n    };\n\n    const registerUpdate = async () =>{\n        try {\n            await Api.post(\"api/post/update\", {...form, id: updateId}).then((res) => {\n                if(res.data){\n                    getPosts()\n                    setForm({...form, message: \"\", name: \"\"})\n                    setNewPost( s => !s)\n                    setUpdateId(null)\n                    setIsUpdate(false)\n                }\n            })\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    const updatePost = (id, message) =>{\n        setIsUpdate(true)\n        setUpdateId(id)\n        setForm({...form, message})\n    }\n\n    const deletePost = async id =>{\n        try {\n            await Api.get(`api/post/delete/${id}`, ).then((res) => {\n                if(res.data){\n                    getPosts()\n                }\n            })\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    const changeCommentHandler = (e) =>{\n        const obj = {\n            text: e.target.value,\n            author: auth?.userId?.email,\n            avatar: \"https://townsquare.media/site/442/files/2020/01/avatar-10-year.jpg?w=980&q=75\",\n        }\n        setForm({...form, comments: obj})\n    }\n\n    const changeHandler = (e) =>{\n        setForm({...form, [e.target.name]: e.target.value})\n    }\n\n    useEffect(() =>{\n        getPosts()\n        getTags()\n    },[])\n\n\n    return(\n        <div className=\"col-12\">\n            <div>\n                {newPost ? (\n                    <div className=\"d-flex col-12 flex-column\">\n                        <div onClick={() => setNewPost( s => !s)} className=\"btn col-3 btn-primary mb-3\">\n                            Закрыть создание\n                        </div>\n                        {isUpdate ? (\n                            <>\n                                <input\n                                    name=\"message\"\n                                    value={form.message}\n                                    type=\"text\"\n                                    onChange={changeHandler}\n                                />\n                                <button\n                                    onClick={registerUpdate}\n                                    className=\"btn btn-primary mt-3\"\n                                >\n                                    Отредактировать\n                                </button>\n                            </>\n                        ):(\n                            <>\n                                <input\n                                    placeholder=\"Название\"\n                                    value={form.name}\n                                    name=\"name\"\n                                    type=\"text\"\n                                    onChange={changeHandler}\n                                />\n                                <textarea\n                                    style={{marginTop: 10}}\n                                    placeholder=\"Что нового\"\n                                    value={form.message}\n                                    name=\"message\"\n                                    onChange={changeHandler}\n                                />\n                                <div style={{marginTop: 10}}>\n                                    <Select\n                                        onChange={handleInputChange}\n                                        options={tags}\n                                    />\n                                </div>\n                                <button\n                                    onClick={registerHandler}\n                                    className=\"btn btn-primary mt-3\"\n                                >\n                                    Создать пост\n                                </button>\n                            </>\n                        )}\n\n                    </div>\n                ):(\n                    <div className=\"d-flex col-3\">\n                        <div onClick={() => setNewPost( s => !s)} className=\"btn btn-primary\">\n                            Создать пост\n                        </div>\n                    </div>\n                )}\n\n            </div>\n\n            <div className=\"d-flex mt-3\">\n                <div className=\"d-flex col-12 flex-column\">\n                    {posts && posts.map( item => (\n                        <div key={item._id}>\n                            {userId?.communityName?.find(i => i === item.tag) &&(\n                                <>\n                                    <div\n                                        className=\"mt-4\"\n                                        style={{border: '1px solid rgba(0, 0, 0, 0.05)', borderRadius: 10, padding: 10}}\n                                    >\n                                        <div className=\"d-flex justify-content-between\">\n                                            <div className=\"d-flex\">\n                                                <img style={{width: 40, height: 40, borderRadius: 20}} src={item.avatar || \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8yJmOL8nb6x7NO2xuLB-Cc1qP2MRFdq24qg&usqp=CAU\"}/>\n                                                <div className=\"ml-4\">\n                                                    <div className=\"h6\">{item.name}</div>\n                                                    <div style={{fontSize: 14, color: \"gray\"}}>\n                                                        {/*{item.message}*/}\n                                                        {item.message.substring(0, 300)} {item.message.length > 300 ? \"...Читать полностью\" : \"\"}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div>\n                                                <button onClick={() => {}} className=\"btn badge-danger\">Лайк</button>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"mt-4 d-flex flex-row\">\n                                            <div style={{fontSize: 12, color: \"gray\"}}>Автор {item.author}</div>\n                                            <div className=\"ml-4 d-flex\">\n                                                <div className=\"ml-1\" style={{fontSize: 12, color: \"white\", backgroundColor: \"blue\", borderRadius: 10, padding: 5}}>\n                                                    {item.tag}\n                                                </div>\n                                            </div>\n                                            <div style={{marginLeft: \"auto\", marginRight: 0}} className=\"d-flex\">\n                                                <div style={{cursor: \"pointer\"}} onClick={() => {\n                                                    updatePost(item._id, item.message)\n                                                    setNewPost(s => !s)\n                                                }} >\n                                                    <EditSvgIcon/>\n                                                </div>\n                                                <div style={{cursor: \"pointer\"}} onClick={() => deletePost(item._id)} className=\"ml-2\">\n                                                    <DeleteSvgIcon/>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"ml-2\">\n                                        <div className=\"d-flex\">\n                                            <div\n                                                onClick={() => setShowComments(s => !s)}\n                                                style={{fontSize: 12, color: \"gray\", cursor: \"pointer\"}}\n                                            >\n                                                {showComments ? \"Скрыть комментарии\" : \"Показать коментарии\"}\n                                            </div>\n                                            <div\n                                                className=\"ml-2\"\n                                                onClick={() => setShowWriteComments(s => !s)}\n                                                style={{fontSize: 12, color: \"gray\", cursor: \"pointer\"}}\n                                            >\n                                                Написать коментарий\n                                            </div>\n                                        </div>\n                                        {showComments && (\n                                            <div className=\"mt-2 d-flex mb-2\">\n                                                <img style={{width: 35, height: 35, borderRadius: 20}} src={\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8yJmOL8nb6x7NO2xuLB-Cc1qP2MRFdq24qg&usqp=CAU\"}/>\n                                                <div className=\"ml-2\">\n                                                    <div style={{fontSize: 12}}>Имя</div>\n                                                    <div style={{fontSize: 12, color: \"gray\"}}>текст комменsdтаряи</div>\n                                                </div>\n                                            </div>\n                                        )}\n                                        {showWriteComments && (\n                                            <div className=\"mt-3 d-flex mb-2\">\n                                                <div style={{marginLeft: -15}} className=\"col-10\">\n                                                    <input\n                                                        className=\"col-12\"\n                                                        name=\"comments\"\n                                                        // value={form.comments.text}\n                                                        type=\"text\"\n                                                        onChange={changeCommentHandler}\n                                                    />\n                                                </div>\n                                                <div style={{fontSize: 12}} className=\"col-2 btn btn-dark\">\n                                                    Отправить\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                </>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Home\n","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\utils\\auth.hook.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\routes.js",["70"],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Admin\\Admin.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\utils\\api.hook.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\assets\\icons\\DeleteSvgIcon.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\assets\\icons\\EditSvgIcon.js",[],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\News\\News.js",["71"],"import {useEffect, useState} from \"react\";\r\nimport {Api} from \"../../../utils/api.hook\";\r\n\r\n\r\nconst News = () => {\r\n    const [newNews, setNewNews] = useState(false)\r\n    const [news, setNews] = useState([])\r\n    const [form, setForm] = useState({\r\n        name: \"\",\r\n        message: \"\",\r\n        banner: \"\"\r\n    })\r\n\r\n    const getNews = () =>{\r\n        Api.get(\"api/news/\").then((res) => {\r\n            setNews(res.data)\r\n        })\r\n    }\r\n    const registerHandler = async () =>{\r\n        try {\r\n            await Api.post(\"api/news/create\", {...form}).then((res) => {\r\n                setForm({\r\n                    name: \"\",\r\n                    message: \"\",\r\n                    banner: \"\",\r\n                })\r\n                getNews()\r\n                setNewNews(false)\r\n            })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    const changeHandler = (e) =>{\r\n        setForm({...form, [e.target.name]: e.target.value})\r\n    }\r\n\r\n    useEffect(() =>{\r\n        getNews()\r\n    },[])\r\n\r\n\r\n    return(\r\n        <div className=\"d-flex col-12 flex-column\">\r\n            {newNews ? (\r\n                <div className=\"d-flex col-12 flex-column\">\r\n                    <div onClick={() => setNewNews( s => !s)} className=\"col-4 btn btn-primary\">\r\n                        Закрыть админ панель\r\n                    </div>\r\n                    <input\r\n                        placeholder=\"Название\"\r\n                        style={{marginTop: 10}}\r\n                        value={form.name}\r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        onChange={changeHandler}\r\n                    />\r\n                    <textarea\r\n                        placeholder=\"Описание\"\r\n                        style={{marginTop: 10}}\r\n                        value={form.message}\r\n                        name=\"message\"\r\n                        onChange={changeHandler}\r\n                    />\r\n                    <input\r\n                        placeholder=\"Ссылка на баннер\"\r\n                        style={{marginTop: 10}}\r\n                        value={form.banner}\r\n                        name=\"banner\"\r\n                        type=\"text\"\r\n                        onChange={changeHandler}\r\n                    />\r\n                    <button\r\n                        onClick={registerHandler}\r\n                        className=\"btn btn-primary mt-3\"\r\n                    >\r\n                        Создать новость\r\n                    </button>\r\n                </div>\r\n            )  : (\r\n                <div onClick={() => setNewNews( s => !s)} className=\"btn btn-primary\">\r\n                    Создать новость\r\n                </div>\r\n            )}\r\n            {news && news.map( (item, index) => (\r\n                <div key={index} className=\"col-12 mt-4\" style={{border: '1px solid rgba(0, 0, 0, 0.05)', borderRadius: 10, padding: 20}}>\r\n                    <div className=\"mt-2\">\r\n                        <div className=\"h6\">{item.name}</div>\r\n                        <div style={{fontSize: 14, color: \"gray\"}}>\r\n                            {item.message}\r\n                        </div>\r\n                        <img\r\n                            style={{width: \"100%\", height: 300, marginTop: 30, borderRadius: 20}}\r\n                            src={item.banner}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            ))}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News\r\n","C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\PostsLine\\PostsLine.js",["72","73"],"C:\\Users\\User\\Desktop\\node\\backend\\client\\src\\pages\\Main\\Profile\\Profile.js",["74"],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":132,"column":29,"nodeType":"81","endLine":135,"endColumn":31},{"ruleId":"79","severity":1,"message":"80","line":192,"column":49,"nodeType":"81","endLine":192,"endColumn":228},{"ruleId":"79","severity":1,"message":"80","line":244,"column":49,"nodeType":"81","endLine":244,"endColumn":213},{"ruleId":"79","severity":1,"message":"80","line":26,"column":21,"nodeType":"81","endLine":26,"endColumn":256},{"ruleId":"79","severity":1,"message":"80","line":93,"column":25,"nodeType":"81","endLine":96,"endColumn":27},{"ruleId":"79","severity":1,"message":"80","line":193,"column":49,"nodeType":"81","endLine":193,"endColumn":228},{"ruleId":"79","severity":1,"message":"80","line":245,"column":49,"nodeType":"81","endLine":245,"endColumn":213},{"ruleId":"82","severity":1,"message":"83","line":33,"column":7,"nodeType":"84","endLine":33,"endColumn":20,"suggestions":"85"},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getProfile'. Either include it or remove the dependency array.","ArrayExpression",["88"],"no-global-assign","no-unsafe-negation",{"desc":"89","fix":"90"},"Update the dependencies array to be: [getProfile, userId?._id]",{"range":"91","text":"92"},[851,864],"[getProfile, userId?._id]"]